DROP TABLE APP.USERS;
DROP TABLE APP.EVENTS;
DROP TABLE APP.PARTICIPANT;

CREATE TABLE APP.USERS(
MAIL VARCHAR(30) NOT NULL,
USERID INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
NAME VARCHAR(30) NOT NULL,
PASSWORD VARCHAR(30) NOT NULL,
PRIMARY KEY (USERID),
UNIQUE (MAIL)
)

CREATE TABLE APP.EVENTS(
URL VARCHAR(30) NOT NULL,
EVENTID  INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
USERID INTEGER NOT NULL,
NAME VARCHAR(30) NOT NULL,
STARTDATE TIMESTAMP NOT NULL,
ENDDATE TIMESTAMP NOT NULL,
ADDRESS VARCHAR(30) NOT NULL,
PUBLISHED SMALLINT NOT NULL,
PRIMARY KEY (EVENTID),
UNIQUE (URL),
FOREIGN KEY (USERID) REFERENCES APP.USERS(USERID)
)

CREATE TABLE APP.PARTICIPANT(
MAIL VARCHAR(30) NOT NULL,
EVENTID INTEGER NOT NULL,
NAME VARCHAR(30) NOT NULL,
FIRSTNAME VARCHAR(30) NOT NULL,
COMPANY VARCHAR(30) NOT NULL,
PRIMARY KEY (MAIL),
FOREIGN KEY (EVENTID) REFERENCES APP.EVENTS(EVENTID)
)

